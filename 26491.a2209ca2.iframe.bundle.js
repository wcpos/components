(self.webpackChunk_wcpos_components=self.webpackChunk_wcpos_components||[]).push([[26491,54128,6479,71290,46266,22303],{"./node_modules/@babel/runtime/helpers/objectWithoutProperties.js":(module,__unused_webpack_exports,__webpack_require__)=>{var objectWithoutPropertiesLoose=__webpack_require__("./node_modules/@babel/runtime/helpers/objectWithoutPropertiesLoose.js");module.exports=function _objectWithoutProperties(source,excluded){if(null==source)return{};var key,i,target=objectWithoutPropertiesLoose(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],excluded.indexOf(key)>=0||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target},module.exports.__esModule=!0,module.exports.default=module.exports},"./src/webview/webview.stories.tsx":(__unused_webpack_module,exports,__webpack_require__)=>{var _interopRequireDefault=__webpack_require__("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(exports,"__esModule",{value:!0}),exports.postMessage=exports.onMessage=exports.injectedJavascript=exports.error=exports.default=exports.basicUsage=void 0;var _basicUsage$parameter,_basicUsage$parameter2,_basicUsage$parameter3,_error$parameters,_error$parameters2,_error$parameters2$do,_onMessage$parameters,_onMessage$parameters2,_onMessage$parameters3,_postMessage$paramete,_postMessage$paramete2,_postMessage$paramete3,_injectedJavascript$p,_injectedJavascript$p2,_injectedJavascript$p3,React=function _interopRequireWildcard(e,r){if(!r&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=_getRequireWildcardCache(r);if(t&&t.has(e))return t.get(e);var n={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if("default"!==u&&Object.prototype.hasOwnProperty.call(e,u)){var i=a?Object.getOwnPropertyDescriptor(e,u):null;i&&(i.get||i.set)?Object.defineProperty(n,u,i):n[u]=e[u]}return n.default=e,t&&t.set(e,n),n}(__webpack_require__("./node_modules/react/index.js")),_View=_interopRequireDefault(__webpack_require__("./node_modules/react-native-web/dist/exports/View/index.js")),_addonActions=__webpack_require__("./node_modules/@storybook/addon-actions/dist/index.js"),_onMessage=_interopRequireDefault(__webpack_require__("./src/webview/onMessage.html")),_postMessage=_interopRequireDefault(__webpack_require__("./src/webview/postMessage.html")),_webview=__webpack_require__("./src/webview/webview.web.tsx"),_button=_interopRequireDefault(__webpack_require__("./src/button/index.ts")),_jsxRuntime=__webpack_require__("./node_modules/react/jsx-runtime.js");function _getRequireWildcardCache(e){if("function"!=typeof WeakMap)return null;var r=new WeakMap,t=new WeakMap;return(_getRequireWildcardCache=function _getRequireWildcardCache(e){return e?t:r})(e)}var meta={title:"Components/WebView",component:_webview.WebView},basicUsage=exports.basicUsage=function basicUsage(){return(0,_jsxRuntime.jsx)(_webview.WebView,{src:"https://wcpos.com",onLoad:(0,_addonActions.action)("onLoad")})},error=exports.error=function error(){return(0,_jsxRuntime.jsx)(_webview.WebView,{src:"https://example.com/404.html",onError:(0,_addonActions.action)("onError")})},onMessage=exports.onMessage=function onMessage(){return(0,_jsxRuntime.jsx)(_webview.WebView,{srcDoc:_onMessage.default,onError:(0,_addonActions.action)("onError"),onMessage:(0,_addonActions.action)("onMessage")})},postMessage=exports.postMessage=function postMessage(){var webviewRef=React.useRef(null);return(0,_jsxRuntime.jsxs)(_View.default,{style:{flexDirection:"column"},children:[(0,_jsxRuntime.jsx)(_button.default,{title:"Post Message",onPress:function onPress(){var _webviewRef$current,_webviewRef$current$c;null==webviewRef||null==(_webviewRef$current=webviewRef.current)||null==(_webviewRef$current$c=_webviewRef$current.contentWindow)||_webviewRef$current$c.postMessage("Hello World")}}),(0,_jsxRuntime.jsx)(_webview.WebView,{ref:webviewRef,srcDoc:_postMessage.default})]})},injectedJavascript=exports.injectedJavascript=function injectedJavascript(props){return(0,_jsxRuntime.jsx)(_View.default,{style:{flex:1},children:(0,_jsxRuntime.jsx)(_webview.WebView,Object.assign({onMessage:(0,_addonActions.action)("onMessage"),onLoad:(0,_addonActions.action)("onLoad"),injectedJavaScript:"\n        document.body.style.backgroundColor = 'red';\n        setTimeout(function() { window.alert('hi') }, 2000);\n        true; // note: this is required, or you'll sometimes get silent failures\n    "},props))})};injectedJavascript.args={src:"https://example.com"};exports.default=meta;basicUsage.parameters=Object.assign({},basicUsage.parameters,{docs:Object.assign({},null==(_basicUsage$parameter=basicUsage.parameters)?void 0:_basicUsage$parameter.docs,{source:Object.assign({originalSource:"() => <WebView src=\"https://wcpos.com\" onLoad={action('onLoad')} />"},null==(_basicUsage$parameter2=basicUsage.parameters)||null==(_basicUsage$parameter3=_basicUsage$parameter2.docs)?void 0:_basicUsage$parameter3.source)})}),error.parameters=Object.assign({},error.parameters,{docs:Object.assign({},null==(_error$parameters=error.parameters)?void 0:_error$parameters.docs,{source:Object.assign({originalSource:"() => <WebView src=\"https://example.com/404.html\" onError={action('onError')} />"},null==(_error$parameters2=error.parameters)||null==(_error$parameters2$do=_error$parameters2.docs)?void 0:_error$parameters2$do.source)})}),onMessage.parameters=Object.assign({},onMessage.parameters,{docs:Object.assign({},null==(_onMessage$parameters=onMessage.parameters)?void 0:_onMessage$parameters.docs,{source:Object.assign({originalSource:"() => <WebView srcDoc={onMessageHTML} onError={action('onError')} onMessage={action('onMessage')} />"},null==(_onMessage$parameters2=onMessage.parameters)||null==(_onMessage$parameters3=_onMessage$parameters2.docs)?void 0:_onMessage$parameters3.source)})}),postMessage.parameters=Object.assign({},postMessage.parameters,{docs:Object.assign({},null==(_postMessage$paramete=postMessage.parameters)?void 0:_postMessage$paramete.docs,{source:Object.assign({originalSource:"() => {\n  const webviewRef = React.useRef<typeof WebView>(null);\n  return <View style={{\n    flexDirection: 'column'\n  }}>\n            <Button title=\"Post Message\" onPress={() => {\n      webviewRef?.current?.contentWindow?.postMessage('Hello World');\n    }} />\n            <WebView ref={webviewRef} srcDoc={postMessageHTML} />\n        </View>;\n}"},null==(_postMessage$paramete2=postMessage.parameters)||null==(_postMessage$paramete3=_postMessage$paramete2.docs)?void 0:_postMessage$paramete3.source)})}),injectedJavascript.parameters=Object.assign({},injectedJavascript.parameters,{docs:Object.assign({},null==(_injectedJavascript$p=injectedJavascript.parameters)?void 0:_injectedJavascript$p.docs,{source:Object.assign({originalSource:"(props: WebViewProps) => {\n  const runFirst = `\n        document.body.style.backgroundColor = 'red';\n        setTimeout(function() { window.alert('hi') }, 2000);\n        true; // note: this is required, or you'll sometimes get silent failures\n    `;\n  return <View style={{\n    flex: 1\n  }}>\n            <WebView onMessage={action('onMessage')} onLoad={action('onLoad')} injectedJavaScript={runFirst} {...props} />\n        </View>;\n}"},null==(_injectedJavascript$p2=injectedJavascript.parameters)||null==(_injectedJavascript$p3=_injectedJavascript$p2.docs)?void 0:_injectedJavascript$p3.source)})});try{injectedJavascript.displayName="injectedJavascript",injectedJavascript.__docgenInfo={description:"",displayName:"injectedJavascript",props:{style:{defaultValue:null,description:"",name:"style",required:!1,type:{name:"CSSProperties"}},src:{defaultValue:null,description:"Source URI helper",name:"src",required:!1,type:{name:"string"}},srcDoc:{defaultValue:null,description:"A string that represents the content to display in the frame.",name:"srcDoc",required:!1,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/webview/webview.stories.tsx#injectedJavascript"]={docgenInfo:injectedJavascript.__docgenInfo,name:"injectedJavascript",path:"src/webview/webview.stories.tsx#injectedJavascript"})}catch(__react_docgen_typescript_loader_error){}},"./src/button/group.tsx":(__unused_webpack_module,exports,__webpack_require__)=>{var _interopRequireDefault=__webpack_require__("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(exports,"__esModule",{value:!0}),exports.Group=void 0;var _objectWithoutProperties2=_interopRequireDefault(__webpack_require__("./node_modules/@babel/runtime/helpers/objectWithoutProperties.js")),React=_interopRequireWildcard(__webpack_require__("./node_modules/react/index.js")),Styled=_interopRequireWildcard(__webpack_require__("./src/button/styles.ts")),_jsxRuntime=__webpack_require__("./node_modules/react/jsx-runtime.js"),_excluded=["alignment","style","type","size","background","fill"];function _getRequireWildcardCache(e){if("function"!=typeof WeakMap)return null;var r=new WeakMap,t=new WeakMap;return(_getRequireWildcardCache=function _getRequireWildcardCache(e){return e?t:r})(e)}function _interopRequireWildcard(e,r){if(!r&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=_getRequireWildcardCache(r);if(t&&t.has(e))return t.get(e);var n={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if("default"!==u&&Object.prototype.hasOwnProperty.call(e,u)){var i=a?Object.getOwnPropertyDescriptor(e,u):null;i&&(i.get||i.set)?Object.defineProperty(n,u,i):n[u]=e[u]}return n.default=e,t&&t.set(e,n),n}var Group=exports.Group=function Group(_ref){var _ref$alignment=_ref.alignment,alignment=void 0===_ref$alignment?"start":_ref$alignment,style=_ref.style,_ref$type=_ref.type,type=void 0===_ref$type?"primary":_ref$type,_ref$size=_ref.size,size=void 0===_ref$size?"normal":_ref$size,_ref$background=_ref.background,background=void 0===_ref$background?"solid":_ref$background,_ref$fill=_ref.fill,fill=void 0!==_ref$fill&&_ref$fill,props=(0,_objectWithoutProperties2.default)(_ref,_excluded),children=React.Children.toArray(props.children).filter(Boolean),childrenLength=React.Children.count(children),items=React.Children.map(children,(function(child,index){var style={borderTopRightRadius:0,borderBottomRightRadius:0,borderTopLeftRadius:0,borderBottomLeftRadius:0,borderRightWidth:1,borderRightColor:"#e0e0e0"};0===index&&(style={borderTopRightRadius:0,borderBottomRightRadius:0,borderRightWidth:1,borderRightColor:"#e0e0e0"}),index===childrenLength-1&&(style={borderTopLeftRadius:0,borderBottomLeftRadius:0}),1===childrenLength&&(style={}),fill&&(style.flexGrow=1,style.flexShrink=0,style.flexBasis="".concat(100/childrenLength,"%"));var newProps=Object.assign({size,type,background},child.props,{style});return React.cloneElement(child,newProps)}));return(0,_jsxRuntime.jsx)(Styled.Group,{alignment,style,fill,children:items})};try{Group.displayName="Group",Group.__docgenInfo={description:"Arrange `Button` components with consistent spacing.",displayName:"Group",props:{children:{defaultValue:null,description:"Children components (should be `Button` components).",name:"children",required:!0,type:{name:"ReactNode"}},alignment:{defaultValue:{value:"start"},description:"Alignment of the children.\n\n- `start` will align the buttons at the start.\n- `end` will align the buttons at the end.",name:"alignment",required:!1,type:{name:"enum",value:[{value:'"center"'},{value:'"start"'},{value:'"end"'}]}},fill:{defaultValue:{value:"false"},description:"",name:"fill",required:!1,type:{name:"boolean"}},style:{defaultValue:null,description:"Style for button group container",name:"style",required:!1,type:{name:"ViewStyle"}},type:{defaultValue:{value:"primary"},description:"",name:"type",required:!1,type:{name:"enum",value:[{value:'"text"'},{value:'"disabled"'},{value:'"inverse"'},{value:'"textMuted"'},{value:'"primary"'},{value:'"secondary"'},{value:'"attention"'},{value:'"critical"'},{value:'"info"'},{value:'"success"'},{value:'"warning"'},{value:'"lightestGrey"'},{value:'"lightGrey"'},{value:'"grey"'},{value:'"darkGrey"'},{value:'"darkestGrey"'},{value:'"bodyBackground"'},{value:'"headerBackground"'},{value:'"inputBackground"'},{value:'"border"'},{value:'"borderMuted"'}]}},size:{defaultValue:{value:"normal"},description:"",name:"size",required:!1,type:{name:"enum",value:[{value:'"normal"'},{value:'"xSmall"'},{value:'"small"'},{value:'"medium"'},{value:'"large"'},{value:'"xLarge"'},{value:'"xxLarge"'}]}},background:{defaultValue:{value:"solid"},description:"",name:"background",required:!1,type:{name:"enum",value:[{value:'"solid"'},{value:'"clear"'},{value:'"outline"'}]}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/button/group.tsx#Group"]={docgenInfo:Group.__docgenInfo,name:"Group",path:"src/button/group.tsx#Group"})}catch(__react_docgen_typescript_loader_error){}},"./src/button/index.ts":(__unused_webpack_module,exports,__webpack_require__)=>{var _interopRequireDefault=__webpack_require__("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _button=_interopRequireDefault(__webpack_require__("./src/button/button.tsx")),_group=__webpack_require__("./src/button/group.tsx");exports.default=Object.assign(_button.default,{Group:_group.Group})},"./src/webview/webview.web.tsx":(__unused_webpack_module,exports,__webpack_require__)=>{var _interopRequireDefault=__webpack_require__("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(exports,"__esModule",{value:!0}),exports.WebView=void 0;var _react=_interopRequireDefault(__webpack_require__("./node_modules/react/index.js")),_jsxRuntime=__webpack_require__("./node_modules/react/jsx-runtime.js"),WebView=exports.WebView=_react.default.forwardRef((function WebViewBase(_ref,ref){var style=_ref.style,src=_ref.src,source=_ref.source,onMessage=_ref.onMessage,onLoad=_ref.onLoad,srcDoc=(_ref.injectedJavaScript,_ref.onNavigationStateChange,_ref.onError,_ref.srcDoc),iframeRef=_react.default.useRef(null);return _react.default.useImperativeHandle(ref,(function(){return iframeRef.current})),_react.default.useEffect((function(){var onIframeMessage=function onIframeMessage(event){var origin=event.origin,data=event.data;null==onMessage||onMessage({data,url:origin,loading:!1,title:"",canGoBack:!1,canGoForward:!1,lockIdentifier:0})};return window.addEventListener("message",onIframeMessage,!0),function(){window.removeEventListener("message",onIframeMessage,!0)}}),[onMessage]),(0,_jsxRuntime.jsx)("iframe",{ref:iframeRef,src:(null==source?void 0:source.uri)||src,srcDoc,onLoad,frameBorder:"0",style})}));try{WebView.displayName="WebView",WebView.__docgenInfo={description:"",displayName:"WebView",props:{style:{defaultValue:null,description:"",name:"style",required:!1,type:{name:"CSSProperties"}},src:{defaultValue:null,description:"Source URI helper",name:"src",required:!1,type:{name:"string"}},srcDoc:{defaultValue:null,description:"A string that represents the content to display in the frame.",name:"srcDoc",required:!1,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/webview/webview.web.tsx#WebView"]={docgenInfo:WebView.__docgenInfo,name:"WebView",path:"src/webview/webview.web.tsx#WebView"})}catch(__react_docgen_typescript_loader_error){}},"./src/webview/onMessage.html":module=>{"use strict";module.exports="<!DOCTYPE html>\n<html>\n\t<script>\n\t\tfunction onMessage(e) {\n\t\t\t\tconsole.log(e.data);\n\t\t}\n\t\twindow.addEventListener('message', onMessage);\n<\/script>\n</html>\n<body>\n\t<h1>Hello world!</h1>\n  <button id=\"button\">Send message</button>\n\t<script type=\"text/javascript\">\n\t\t// React Native\n\t\t// function onBridgeReady(cb) {\n\t\t// \tif (window.postMessage.length !== 1) {\n\t\t// \t\tsetTimeout(function () {\n\t\t// \t\t\tonBridgeReady(cb);\n\t\t// \t\t}, 100);\n\t\t// \t} else {\n\t\t// \t\tcb();\n\t\t// \t}\n\t\t// }\n\n\t\tvar payload = JSON.stringify({\n\t\t\tname: 'WebView',\n\t\t});\n\n\t\tdocument.getElementById('button').addEventListener('click', function () {\n\t\t\twindow.postMessage(payload);\n\t\t\t// window.ReactNativeWebView.postMessage(payload);\n\t\t\t// if (window.opener) {\n\t\t\t// \t// Web new window\n\t\t\t// \twindow.opener.postMessage(payload, window.opener.origin);\n\t\t\t// \twindow.close();\n\t\t\t// } else if (window.parent) {\n\t\t\t// \t// Web iframe\n\t\t\t// \twindow.parent.postMessage(payload, window.parent.origin);\n\t\t\t// } else {\n\t\t\t// \t// React Native\n\t\t\t// \tonBridgeReady(function () {\n\t\t\t// \t\twindow.postMessage(payload);\n\t\t\t// \t});\n\t\t\t// }\n\t\t});\n\t<\/script>\n</body>\n</html>"},"./src/webview/postMessage.html":module=>{"use strict";module.exports="<!DOCTYPE html>\n<html>\n\t<script>\n\t\tfunction onMessage({data}) {\n\t\t\tconst textarea = document.getElementById('message');\n\t\t\ttextarea.value += data + '\\n';\n\t\t}\n\t\twindow.addEventListener('message', onMessage);\n<\/script>\n</html>\n<body>\n\t<textarea id=\"message\" rows=\"10\"></textarea>\n</body>\n</html>"}}]);